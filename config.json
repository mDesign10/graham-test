{"version":"1.8.0","schemaVersion":31,"minimumStudioVersion":"3.2.0","icon":"other","splash":"other","splashdata":{"img":"icom-icon.png","bg":"#0072ce"},"settings":{"router":{"mode":"single","animation":"off"},"theme":"default","push-notifications":{"android":{"enabled":true,"id":"321487242823","googleServiceJson":"google-services.json"},"ios":{"enabled":true,"voipEnabled":true},"wp":{"enabled":false}},"provisioning":{"enabled":false,"manifest":"","poll":2,"manual":false,"wifionly":true},"crashReporting":{"enabled":false,"androidEnabled":false,"iosEnabled":false,"splunkAndroidApiKey":"","splunkIosApiKey":"","splunkExtraData":""},"kioskMode":{"enabled":false},"singleInstance":{"enabled":true},"crosswalk":{"enabled":false},"logging":{"enabled":true,"bufferFrequency":100,"defaultRootLogLevel":"debug","defaultMaxFileSizeKilobyte":1000,"defaultMaxFiles":5,"appEnabled":true,"appUseDefault":true,"appRootLogLevel":"error","appMaxFileSizeKilobyte":1000,"appMaxFiles":5,"clientEnabled":true,"clientUseDefault":true,"clientRootLogLevel":"error","clientMaxFileSizeKilobyte":1000,"clientMaxFiles":5,"nativeEnabled":true,"nativeUseDefault":true,"nativeRootLogLevel":"error","nativeMaxFileSizeKilobyte":1000,"nativeMaxFiles":5},"loading-message":true,"minimise-on-back-button":false,"plugins":{"builtIn":{"cordova-plugin-whitelist@1.2.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-battery-status@1.2.4":{"override":false,"used":false,"enabled":false},"cordova-plugin-console@1.0.3":{"override":false,"used":true,"enabled":true},"cordova-plugin-contacts@2.1.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-device@1.1.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-device-motion@1.2.1":{"override":false,"used":false,"enabled":false},"cordova-plugin-device-orientation@1.0.3":{"override":false,"used":false,"enabled":false},"cordova-plugin-file@4.2.0":{"override":false,"used":true,"enabled":true},"cordova-plugin-geolocation@2.2.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-globalization@1.0.3":{"override":false,"used":true,"enabled":true},"commontime-cordova-plugin-inappbrowser@1.6.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-network-information@1.2.1":{"override":false,"used":false,"enabled":false},"cordova-plugin-splashscreen@3.2.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-vibration@2.1.6-dev-ct-0.0.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-statusbar@1.0.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-camera@2.3.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-capture@1.4.1":{"override":false,"used":false,"enabled":false},"phonegap-plugin-barcodescanner@6.0.7":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.thumbnail@1.4.8":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.fileimporter@1.0.2":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-opener@1.0.13":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.beacon@1.0.6":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.notification@1.0.17":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.2":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.audio@0.9.23":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.media-properties@1.2.13":{"override":true,"used":false,"enabled":true},"com.commontime.cordova.splitscreen@1.1.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.preferences@0.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.authentication@1.0.8":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.urlhandler@1.1.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.securesettings@1.0.2":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.geofence@0.5.5":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-transfer@1.5.5":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.public.provisioning@0.0.13":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.insomnia@0.0.32":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.splunk-mint@1.0.3":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.kiosk@1.0.11":{"override":false,"used":false,"enabled":false},"cordova-android-movetasktoback@0.1.3":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.logging@1.0.24":{"override":false,"used":true,"enabled":true},"cordova-plugin-email":{"override":false,"used":true,"enabled":true},"cordova-android-crosswalk-webview@2.3.0":{"override":false,"used":false,"enabled":false},"cordova-plugin-emm-app-config@1.0.2":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.3":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.public.messaging@0.0.47":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.fileimporter@1.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.insomnia@0.0.33":{"override":false,"used":true,"enabled":true},"cordova-plugin-ionic-webview@1.1.16":{"override":false,"enabled":true,"used":true},"com.commontime.cordova.file-transfer@1.5.6":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.4":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-encryption@0.0.5":{"override":false,"used":true,"enabled":true},"cordova-plugin-screen-orientation@1.4.2":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.securesettings@1.0.3":{"override":false,"used":true,"enabled":true},"cordova-plugin-email-composer":{"override":false,"used":true,"enabled":true},"cordova-plugin-splashscreen@5.0.2":{"override":true,"used":true,"enabled":false},"com.commontime.cordova.securesettings@1.0.7":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.6":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.7":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-opener@1.0.14":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.notification@1.0.19":{"override":false,"used":true,"enabled":true},"cordova-plugin-camera@2.3.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.notification@1.0.21":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-transfer@1.5.7":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.11":{"override":false,"used":true,"enabled":true},"cordova-plugin-ionic-webview@1.1.17":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.4":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.insomnia@0.0.50":{"override":false,"used":true,"enabled":true},"cordova-plugin-wkwebview-engine@1.1.4":{"override":false,"enabled":true,"used":true},"cordova-plugin-wkwebview-file-xhr@2.1.1":{"override":false,"enabled":true,"used":true},"com.commontime.cordova.insomnia@0.0.51":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.settimeout@0.0.3":{"override":true,"used":true,"enabled":false},"com.commontime.cordova.thumbnail@1.4.10":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.12":{"override":false,"used":true,"enabled":true},"cordova-plugin-camera@2.3.5":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.thumbnail@1.4.14":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-opener@1.0.16":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v.2.3.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-transfer@1.5.8":{"override":false,"used":true,"enabled":true},"cordova-android-crosswalk-webview@2.4.0":{"override":false,"used":false,"enabled":false},"cordova-build-architecture@v1.0.4":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.file-encryption@0.0.15":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.settimeout@0.0.5":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.webviewchecker@1.0.5":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@r1.0.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.16":{"override":false,"used":true,"enabled":true},"cordova-plugin-console@1.1.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v.2.4.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.notification@1.0.22":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.5":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.7":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.insomnia@0.0.52":{"override":false,"used":false,"enabled":false},"https://github.com/commontime/com.commontime.cordova.volumecontrol@1.0.0":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@2.1.1-ct1":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.geofence@0.5.6":{"override":false,"used":false,"enabled":false},"com.commontime.cordova.thumbnail@1.4.15":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@2.1.2-ct1":{"override":true,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.2":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.6":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.8":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.18":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.10":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.11":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.12":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.preferences@0.0.5":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.8":{"override":false,"used":true,"enabled":true},"cordova-plugin-statusbar@2.4.2":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@2.1.3-ct1":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.9":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@2.1.4-ct1":{"override":false,"used":true,"enabled":true},"cordova-plugin-media-with-compression@2.1.5-ct1":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-encryption@0.0.19":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.13":{"override":false,"used":true,"enabled":true},"cordova-media-with-compression@2.1.3-ct1":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.urlhandler@1.1.1":{"override":false,"used":true,"enabled":true},"cordova-plugin-network-information@2.0.1":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.0.14":{"override":false,"used":true,"enabled":true},"cordova-plugin-ionic-keyboard@2.1.2":{"override":false,"used":false,"enabled":false},"phonegap-plugin-push@v2.4.14":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.4.15":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.file-transfer@1.6.1":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.5.14":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.allowbackup":{"override":true,"used":true,"enabled":false},"com.commontime.cordova.allowbackup@1.0.1":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.5.16":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.5.17":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.1.0":{"override":true,"used":true,"enabled":false},"com.commontime.cordova.allowbackup@1.0.2":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.5.18":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.3.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.5.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.8.0":{"override":false,"used":true,"enabled":true},"cordova-plugin-splashscreen@5.0.3":{"override":true,"used":true,"enabled":false},"com.commontime.cordova.splitscreen@1.2.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/com.commontime.cordova.volumecontrol@1.1.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.displayoverotherapps@1.1.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.6.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.displayoverotherapps@1.1.1":{"override":false,"used":true,"enabled":true},"phonegap-mobile-accessibility@1.0.5":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.9.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.appstate@1.0.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.10.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.6.1":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.notification@1.0.23":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.appgroup@1.0.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.appgroup@1.1.0":{"override":true,"used":true,"enabled":true},"com.commontime.cordova.allowbackup@1.0.3":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.11.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v2.6.2":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v3.0.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.12.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.appgroup@1.2.1":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v3.2.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.14.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v3.3.0":{"override":false,"used":true,"enabled":true},"https://github.com/commontime/cordova-ios-voip-push@1.15.0":{"override":false,"used":true,"enabled":true},"phonegap-plugin-push@v3.4.0":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.securesettings@1.0.8":{"override":false,"used":true,"enabled":true},"com.commontime.cordova.ctoauth":{"override":true,"used":true,"enabled":false}},"customPlugins":{"cordova-plugin-splashscreen":{"spec":"https://github.com/apache/cordova-plugin-splashscreen#5.0.2","id":"cordova-plugin-splashscreen","preferences":{"AutoHideSplashScreen":"false","FadeSplashScreen":"true","FadeSplashScreenDuration":"500","ShowSplashScreenSpinner":"false","SplashMaintainAspectRatio":"true"}},"com.commontime.cordova.ctoauth":{"id":"com.commontime.cordova.ctoauth","spec":"1.0.18"}}},"insomnia":{"enabled":false,"startOnBoot":true,"battOp":true,"fgService":true,"fgServiceMain":"Clinical Messaging","fgServiceSub":"Waiting for messages...","appRestartService":true,"nativeSetTimeout":true,"backgroundAlarm":true},"orientation":"portrait","ionic":null,"wkwebview":{"enabled":true},"minWebviewVersion":{"version":"53.0.0"}},"language":{"defaultLocale":"en_GB","initialLanguage":"","useDeviceLocale":true},"pages":[{"start":true,"name":"Login","config":[{"name":"Page Loaded Event","type":"event","item-type":"onpageloaded","_auto_id_":"622b9f5e-29e1-46c9-8c6b-b77af4a61209","actions":[{"event":"onpageloaded","type":"call-function","data":{"name":"setupLoginForm"},"_auto_id_":"391297d8-892c-4b66-a833-a7fcf98d62f9"}]}],"content":[{"name":"main_content","type":"area","item-type":"static","content":[{"name":"login_content","type":"content","item-type":"html","content":"<div class=\"logo\">\n  <img src=\"user-assets/icom-icon.png\" />\n</div>\n<div class=\"title\">\n  <div class=\"b\">Intelligent <span class=\"accent-font\">Communication</span></div>\n</div>","expressions":{},"classes":"login-content","_auto_id_":"c96bef0a-5b17-4b6c-b5cb-d9f636c52a0f"},{"name":"btnIconAbout","type":"button","item-type":"button","_auto_id_":"b829fbd7-7b05-4d87-ae80-d9d2abbb967d","content":"","theme":"default","actions":[{"event":"click","type":"go-to-page","data":{"name":"About","isConditional":false},"_auto_id_":"97b49379-c74d-429d-9350-a938eacd584c"}],"expressions":{},"left-icon":"fa-info-circle"},{"name":"login_form","type":"messaging-common","item-type":"common-login-form","autoAppendDomainName":true,"username":"","hideUsername":false,"disableUsername":false,"logInLabel":"Sign In","expressions":{},"layer":"Clinical_Messaging","actions":[],"classes":"login-form","theme":"light","_auto_id_":"01c6d40b-e1f6-41b9-9ce1-141e5e39a662"}],"expressions":{},"classes":"login-page","_auto_id_":"3acb59c7-35ec-48a9-992c-50fc2aa5b6d6"}]},{"start":false,"name":"Conversations","config":[],"content":[{"name":"main_content","type":"area","item-type":"scrollable","content":[{"name":"conversation_list","type":"chat","item-type":"cl-conversation-list","expressions":{},"layer":"Clinical_Messaging","classes":"conversation-list","actions":[{"event":"go-new-conversation","type":"go-to-page","data":{"name":"New_Conversation","isConditional":false},"_auto_id_":"4e93c1bc-c77e-4c34-a191-53aa6175a760"},{"event":"go-chat","type":"go-to-page","data":{"name":"Chat","isConditional":false},"_auto_id_":"e0252100-16fd-49af-bd2c-080500657a6d"}],"_auto_id_":"e70ba93a-1a27-4b62-a523-56ca209b2d62"}],"expressions":{},"classes":"conversations-page","_auto_id_":"69fab129-14e7-4ea1-88f6-e48427a1c535"}]},{"start":false,"name":"New_Conversation","config":[],"content":[{"name":"main_content","type":"area","item-type":"scrollable","content":[{"name":"new_conversation","type":"chat","item-type":"cl-new-conversation","expressions":{},"classes":"new-conversation","layer":"Clinical_Messaging","actions":[{"event":"go-back","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"e4e0952e-f1aa-4abf-9a40-adb154381799"},{"event":"go-chat","type":"go-to-page","data":{"name":"Chat","isConditional":false},"_auto_id_":"7be6a69f-ab08-4161-8c55-f8056f371ee8"}],"allowSearch":true,"requireSearch":true,"showCountFrom":"{{$store.preferences.showParticipantCountFrom}}","_auto_id_":"42078119-8d36-4cf7-b7c8-d2a8bebc4f11"}],"expressions":{},"classes":"new-conversation-page","_auto_id_":"10f6627d-5213-4103-b0a6-bb0ec9d968a4"}]},{"start":false,"name":"Chat","config":[{"name":"Page Loaded Event","type":"event","item-type":"onpageloaded","_auto_id_":"8c1d9111-477d-472c-b527-ae1f3a9415f9","actions":[{"event":"onpageloaded","type":"inline-function","data":{"sync":true,"code":"if (!window.chatLayer.getCurrentUserJid()) {\n  \t// If we've got here are we are actually logged out we need to go to the\n    // login page\n    console.log(\"Got into the chat page without being logged in, redirecting to the Login page...\");\n\t$fail();  \n} else {\n\t$success();  \n}"},"_auto_id_":"71623f8f-a6eb-4a62-aede-47d61b25609b","actions":[{"event":"fail","type":"go-to-page","data":{"name":"Login","isConditional":false},"_auto_id_":"a5a473cf-d2e8-4566-b897-01b35496a5a4"}]}]}],"content":[{"name":"main_content","type":"area","item-type":"scrollable","content":[{"name":"chat_message_list","type":"chat","item-type":"cl-chat-message-list","expressions":{},"classes":"chat-message-list","layer":"Clinical_Messaging","actions":[{"event":"go-back","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"599614d5-1e0c-4862-ac66-5e7061f1d3b6"},{"event":"go-info","type":"go-to-page","data":{"name":"Conversation_Info","isConditional":false},"_auto_id_":"4465cabd-f51e-431f-a0c3-a67fef7de6f4"},{"event":"go-leave","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"19b95e89-60c5-4137-a827-cebcab2a8db8"},{"event":"go-end","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"94be671d-454b-4bef-a071-8b961320227f"}],"_auto_id_":"1d47724b-17ff-4225-97fa-c468ab535a96"}],"expressions":{},"classes":"chat-page","_auto_id_":"9c85ba93-f8b6-457c-b1d2-a65ac0be439a"}]},{"start":false,"name":"Conversation_Info","config":[],"content":[{"name":"main_content","type":"area","item-type":"scrollable","content":[{"name":"conversation_info","type":"chat","item-type":"cl-conversation-info","expressions":{},"classes":"conversation-info","layer":"Clinical_Messaging","actions":[{"event":"go-back","type":"go-to-page","data":{"name":"Chat","isConditional":false},"_auto_id_":"12f064fb-4a3c-4585-a0dc-f85492641f4e"},{"event":"go-add-contacts","type":"go-to-page","data":{"name":"Add_Contacts","isConditional":false},"_auto_id_":"b0507dd3-faec-4ac2-ac72-2a9273541589"},{"event":"go-chat","type":"go-to-page","data":{"name":"Chat","isConditional":false},"_auto_id_":"b4529644-5812-4dd3-8dce-a9e4a33ca04f"}],"_auto_id_":"d9436c87-2c40-48de-822f-731b525dfcab"}],"expressions":{},"classes":"conversation-info-page","_auto_id_":"8a982880-f1a3-49d4-af50-4f06024939c3"}]},{"start":false,"name":"Add_Contacts","config":[],"content":[{"name":"main_content","type":"area","item-type":"scrollable","content":[{"name":"add_conversation_contacts","type":"chat","item-type":"cl-add-conversation-contacts","expressions":{},"classes":"add-conversation-contacts","layer":"Clinical_Messaging","actions":[{"event":"go-back","type":"go-to-page","data":{"name":"Conversation_Info","isConditional":false},"_auto_id_":"0859d3b0-66e8-4bff-adb4-2a3a3b04f982"}],"allowSearch":true,"requireSearch":true,"showCountFrom":"{{$store.preferences.showParticipantCountFrom}}","_auto_id_":"67190220-8f13-4d1e-bebf-ec144c3b189f"}],"expressions":{},"classes":"add-contacts-page","_auto_id_":"70deebfc-041e-464d-82f8-94a20ece1a29"}]},{"start":false,"name":"QA","config":[{"name":"Page Loaded Event","type":"event","item-type":"onpageloaded","_auto_id_":"0078690f-d24f-4b49-83ff-b443f03fb428","actions":[{"event":"onpageloaded","type":"inline-function","data":{"sync":true,"code":"let content = `\n  <div class=\"app-header\">\n    <div class=\"name\">${cti.store.schema.displayName}</div>\n    <div class=\"package-id\">${cti.store.schema.packageId}</div>\n    <div class=\"ver\">version: ${cti.store.schema.version}</div>\n  </div>\n`;\n\nif (cti.store.preferences.qaMode === \"true\") {\n  const preferenceKeys = [];\n  for (const id in cti.store.schema.metadata) {\n    preferenceKeys.push(cti.store.schema.metadata[id].key)\n  }\n  content += `\n\t<div class=\"section app-prefs\">\n      <div class=\"heading\">Preferences:</div>\n  `;\n  preferenceKeys.forEach(key => {\n    const hasValue = !!cti.store.preferences[key];\n    const prefValue = cti.store.preferences[key] || \"undefined\";\n    const prefClass = \"value\" + (hasValue ? \"\" : \" no-value\");\n    content += `\n      <div class=\"pref\">\n        <span class=\"key\">${key}: </span>\n        <span class=\"${prefClass}\">${prefValue}</span>\n      </div>\n    `;\n  });\n  content += `</div>`;\n}\n\nconst $appInfo = document.querySelector(\"#app_info\");\n$appInfo.innerHTML = content;"},"_auto_id_":"aa4c32dc-34bc-4c19-98e9-27467e11972a"}]}],"content":[{"name":"main_content","type":"area","item-type":"scrollable","_auto_id_":"ca76381f-5003-4496-81fd-8bc6862be354","content":[{"name":"close_btn","type":"button","item-type":"button","_auto_id_":"12eb8519-ce6e-4ed7-92f4-e40b59ff4489","content":"","theme":"default","left-icon":"fa-times-circle","actions":[{"event":"click","type":"go-back","data":{},"_auto_id_":"3d0fe06a-7eb7-4667-abe8-9be770150fe1"}],"expressions":{},"classes":"close-btn"},{"name":"qa_data","type":"content","item-type":"html","_auto_id_":"c753bb37-c835-4238-9f3a-a622b259e943","content":"<div id=\"app_info\"></div>","expressions":{},"classes":"qa-data"},{"name":"debugger","type":"messaging-common","item-type":"common-debugger","_auto_id_":"8eb019c1-bd08-483f-977a-7ccd9510d970","expressions":{"show":"$store.preferences.qaMode === \"true\""},"classes":"debugger","layer":"Clinical_Messaging"},{"name":"button_1","type":"button","item-type":"button","_auto_id_":"2b7c503e-cb68-4999-aa25-785d12457dcb","content":"E-Mail Device Logs","theme":"default","actions":[{"event":"click","type":"email-logs","data":{"subject":"CM App Logs (v{{$store.schema.version}}-b{{$store.schema.buildInfo.build}})","includeArchivedLogs":true,"to":"testing@commontime.com","body":"Device logs for Clinical Messaging app '{{$store.schema.name}}'. App Version: '{{$store.schema.version}}'. Studio Build: '{{$store.schema.buildInfo.build}}'."},"_auto_id_":"95e70c2a-13fc-46b3-9b2f-9b2c1d4b716b"}],"left-icon":"fa-envelope-o"}],"expressions":{},"classes":"qa-page"}]},{"start":false,"name":"About","config":[{"name":"Page Loaded Event","type":"event","item-type":"onpageloaded","_auto_id_":"36de802c-dee8-402f-8169-0d062a3f7d96","actions":[{"event":"onpageloaded","type":"inline-function","data":{"sync":true,"code":"const server = document.getElementById(\"server\");\n\nif (server) {\n  \n  \t if (window.chatLayer && window.chatLayer.comms && window.chatLayer.comms.serverVersion) {\n\n        server.innerText = `Server version: ${window.chatLayer.comms.serverVersion.version}`;\n     \tserver.classList.remove(\"hidden\");\n     }\n     else {\n       \n        server.classList.add(\"hidden\");\n     }\n}"},"_auto_id_":"ff13619a-acb8-4ad0-803f-4967e6754b1d"}]}],"content":[{"name":"title_bar","type":"area","item-type":"title-bar","extends":{"type":"area","item-type":"row"},"content":[{"name":"btnBack","type":"button","item-type":"button","_auto_id_":"61b92982-7d6b-4f5b-b1b7-9748d4c7dad9","content":"","theme":"default","left-icon":"fa-chevron-left","actions":[{"event":"click","type":"go-back","data":{},"_auto_id_":"2de65889-f94a-45a5-be1b-3c5dec1712c5"}],"expressions":{}}],"_auto_id_":"ace8ab4e-9f2c-4393-8b38-ed10a9ca27e5"},{"name":"scrlAbout","type":"area","item-type":"scrollable","content":[{"name":"ctLogo","type":"media","item-type":"image-viewer","_auto_id_":"eb6e4d63-60ba-42fd-8966-9cf4c7a4da2d","scaleImage":true,"maxWidth":200,"maxHeight":200,"fileName":"CommonTime.png","expressions":{},"openExternallyOnClick":false},{"name":"htmlAbout","type":"content","item-type":"html","_auto_id_":"25ee3c5e-dad1-4360-9c66-d5dcda9c8a1d","content":"<p class=\"versions\">\n  <span>Customer Release: {{'$store.preferences.customerLabel' | store}}-{{'$store.preferences.customerVersion' | store}}</span><br>\n  <span>App Version: {{'$store.schema.version' | store}}-b{{'$store.preferences.appBuildNumber' | store}}</span><br>\n  <span>Config ID: {{'$store.chatLayerConfigId || $store.preferences.defaultConfigId' | store}}</span><br>\n  <span id=\"server\" class=\"hidden\">Server Version: Please login first</span>\n</p>\n\n<p><strong>Intelligent Communication on Mobile</strong> is a new breed of communication tool, designed and developed by CommonTime to facilitate multi-way conversations, broadcasts and alerts in high pressure environments.</p>\n\n<p>CommonTime develop market leading communication apps that deliver practical innovation to organisations across the world. Backed by over 20 years of experience, our secure & reliable solutions are vital to mobilising enterprise and government communication.</p>","expressions":{}}],"_auto_id_":"c93cc7a7-2c33-4baf-b695-d5e3fa46b291","expressions":{}}]}],"actionflows":[{"name":"on_instance_ready","content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"window.chatLayer = $data;\nwindow.chatLayer.logger.setTypes([\"_all_\"]);\nwindow.chatLayer.comms.client._options.debug = true;\n$store.variables.debug = true;\nif (navigator && navigator.splashscreen) {\n\tnavigator.splashscreen.hide();\n}\n$store.chatLayerConfigId = window.chatLayer.config.configId;"},"_auto_id_":"d0a8e779-05e2-4cc1-8aa1-7cd2193d0ad8","actions":[]}]},{"name":"on_login","content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (window.chatLayer) $store.chatLayerConfigId = window.chatLayer.config.configId;\n$success();"},"_auto_id_":"74abe77d-218c-4840-a870-a47b88e9ca43"},{"event":"click","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"2295118a-487a-402b-b985-9ebe2f46ec16"}]},{"name":"on_logout","content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"// Clear any current notifications\nwindow.cordova.plugins.notification.clearAll();\n$success();"},"_auto_id_":"2445edd5-5608-4422-ac1a-8cb93103a6eb"},{"event":"click","type":"go-to-page","data":{"name":"Login","isConditional":false},"_auto_id_":"371c4ad8-aca6-4236-86f1-9490365f96b1"}]},{"name":"on_connection_status","content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"const status = ($data.status || \"\").toLowerCase();\nif (status === \"connected\") document.body.classList.add(\"connected\");\nelse document.body.classList.remove(\"connected\");\n$success($data);"},"_auto_id_":"5389a86a-07cc-48c4-b453-a8bcdb9552c0"}]},{"name":"start_audio_vibrate","content":[{"type":"if","data":{},"_auto_id_":"998f69df-3484-45b9-aa9d-b324e26e13f1","operations":[{"type":"value","content":"{{$store.variables.currently_alerting}}","$selected":false},{"type":"operator","content":"!=","$selected":false},{"type":"value","content":"true","$selected":false}]},{"event":"click","type":"play-audio","data":{"static":true,"streamId":"notification","fileName":"Clinical_Messaging_Notification.m4a"},"_auto_id_":"b36396ae-af53-441c-b373-9d0c5933c44c"},{"event":"click","type":"start-vibration","data":{"pattern":"none","customPattern":"","duration":"100","patternIterations":1,"continuous":false},"_auto_id_":"da804a10-f3a5-4f24-a41e-5ece958050d7"},{"type":"end-if","data":{},"_auto_id_":"bd5c7b2a-9472-4b0d-9af3-255a362eef74"}]},{"name":"stop_audio_vibrate","content":[{"type":"if","data":{},"_auto_id_":"f4acdf16-c2c5-4e4b-b843-5b8d21e46a25","operations":[{"type":"value","content":"{{$store.variables.currently_alerting}}"},{"type":"operator","content":"!="},{"type":"value","content":"true"}]},{"event":"click","type":"stop-audio","data":{},"_auto_id_":"510b579c-5482-4788-8498-74bca644d999"},{"event":"click","type":"stop-vibration","data":{},"_auto_id_":"8a58b24a-0c7b-4945-990b-e87a6822daaa"},{"type":"end-if","data":{},"_auto_id_":"d371bde2-a359-4440-867b-5987d728b586"}]},{"name":"on_removed_from_conversation","content":[{"event":"click","type":"go-to-page","data":{"name":"Conversations"},"_auto_id_":"322acdc2-c588-4133-982c-c657b2dd01da"}]},{"name":"show_qa_page","content":[{"type":"if","data":{},"_auto_id_":"ec764796-fd0c-4a66-a165-8c611d184bac","operations":[{"type":"value","content":"{{$store.preferences.qaMode}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"true","$selected":false}]},{"event":"click","type":"go-to-page","data":{"name":"QA","isConditional":false},"_auto_id_":"520a0db6-1df4-40df-a8c6-c2b248598496"},{"type":"end-if","data":{},"_auto_id_":"0e37fdbc-7f72-44c0-a013-9ea3318ec452"}]},{"content":[{"event":"click","type":"log","data":{"level":"debug","message":"{{$data}}"},"_auto_id_":"fb8e415d-ec80-4501-868a-585bfd97e5fd"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"debugger;\nPushNotification.addToIgnoreList(function(){\n  console.log(\"Stored messageId: \");\n  $success($data);\n}, function(e){\n  console.error(e);\n  $fail();\n}, $data.conversation.createdTime);\n"},"_auto_id_":"728d407f-358e-40c9-a7f6-78dfc6d94e8a"},{"event":"click","type":"log","data":{"level":"debug","message":"hello 1"},"_auto_id_":"06bc7614-e018-4d8e-a3e5-3ccb29b51e62"},{"event":"click","type":"set-variable","data":{"name":"stored_message","value":"{{$data}}"},"_auto_id_":"040df58f-cc84-4abf-b3e2-9d043d4775bf"},{"type":"if","data":{},"_auto_id_":"32ac793b-1449-422f-ba67-1bab4840964d","operations":[{"type":"value","content":"{{$data.conversation.priority}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"high","$selected":false}]},{"type":"if","data":{},"_auto_id_":"db42411e-a84c-4694-b9a4-f981b7600527","operations":[{"type":"value","content":"{{$store.variables.currently_alerting}}"},{"type":"operator","content":"!="},{"type":"value","content":"true"}]},{"event":"click","type":"stop-audio","data":{},"_auto_id_":"d492883e-c762-4039-b6f5-f01aaa81fc4d"},{"event":"click","type":"play-audio","data":{"static":true,"streamId":"alarm","loop":false,"vibrate":true,"loopInterval":5,"loopCount":0,"fileName":"Clinical_Messaging_Notification.m4a","vibratePattern":"100,30,100,30,100,200,200,30,200,30,200,200,100,30,100,30,100","forceVibrate":true},"_auto_id_":"26f3438c-1b7a-4f73-b132-ff152bd50e0f"},{"type":"end-if","data":{},"_auto_id_":"97c969b7-2750-4463-8bb2-3ad4577c34d3"},{"type":"otherwise-if","data":{},"_auto_id_":"e1491fca-14fe-4a4a-9b2c-a17386101829","operations":[{"type":"value","content":"{{$data.conversation.priority}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"urgent","$selected":false}]},{"event":"click","type":"log","data":{"level":"debug","message":"hello 2"},"_auto_id_":"d7798975-2731-4614-9fb1-c0b5ab05f144"},{"event":"click","type":"stop-audio","data":{},"_auto_id_":"927172cd-d89e-45cb-ae70-78a44af99989"},{"event":"click","type":"set-model","data":{"location":"$store.variables.currently_alerting","dataType":"boolean","value":"true"},"_auto_id_":"92ded011-bc95-4365-ac55-fda50b6c5ab0"},{"type":"if","data":{},"_auto_id_":"ba814898-ae7f-4367-a908-0094cea25da1","operations":[{"type":"value","content":"{{$store.variables.in_alert}}"},{"type":"operator","content":"!="},{"type":"value","content":"true"}]},{"event":"click","type":"get-media-volume","data":{"streamId":"alarm"},"_auto_id_":"f5ad899f-7f03-4cb5-bbcc-7496cc1c239f"},{"event":"click","type":"set-variable","data":{"name":"stored_volume","value":"{{$data}}"},"_auto_id_":"d29c6109-de5d-4104-ae3b-7f7d722b2fcd"},{"event":"click","type":"set-variable","data":{"name":"in_alert","value":"true"},"_auto_id_":"acbda1e8-20bd-4d3a-8973-b4b5112950d6"},{"type":"end-if","data":{},"_auto_id_":"f47cbcee-09a6-494a-b4a2-06d37b7ff4a2"},{"event":"click","type":"change-media-volume","data":{"streamId":"alarm","volumeLevel":"{{$store.variables.default_urgent_volume}}"},"_auto_id_":"53e5a170-ee56-4f1c-bee4-b7b1b0c060ae"},{"event":"click","type":"play-audio","data":{"static":true,"streamId":"alarm","loop":true,"vibrate":true,"loopInterval":2,"loopCount":0,"vibratePattern":"100,30,100,30,100,200,200,30,200,30,200,200,100,30,100,30,100","forceVibrate":true,"fileName":"pager_responder_alert.m4a"},"_auto_id_":"f3746568-6f70-4d95-994b-a8832b22d93e"},{"type":"end-if","data":{},"_auto_id_":"24bf2ade-aa39-4110-b61d-c1bcd3b40464"}],"name":"priority_conv_start"},{"content":[{"event":"click","type":"log","data":{"level":"debug","message":"{{$data}}"},"_auto_id_":"d13f0be9-40c8-46ae-9a09-dd85052981f3"},{"type":"if","data":{},"_auto_id_":"62e43411-563b-4cad-9f01-941ffcebfd47","operations":[{"type":"value","content":"{{$store.variables.currently_alerting}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"true","$selected":false},{"type":"connector","content":"&&","$selected":false},{"type":"value","content":"{{$data.pendingCount}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"0","$selected":false}]},{"event":"click","type":"set-model","data":{"location":"$store.variables.currently_alerting","dataType":"boolean","value":"false"},"_auto_id_":"758231fc-ff9d-403d-a601-6b125dc11639"},{"event":"click","type":"stop-audio","data":{},"_auto_id_":"ad00ac1d-611a-47e0-8a60-1f46f6574c37"},{"event":"click","type":"change-media-volume","data":{"streamId":"alarm","volumeLevel":"{{$store.variables.stored_volume}}"},"_auto_id_":"1c3ca71c-b59d-4dfa-911c-a0425a797352"},{"event":"click","type":"set-variable","data":{"name":"in_alert","value":"false"},"_auto_id_":"b3957bf9-f34e-4ad7-87e9-a5d7e2401100"},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (window.cti.store.env.platform.name === \"android\") { \n\n  PushNotification.cancelAtFront(function() {\n    $success();\n  }, function() {\n    $fail();\n  });\n\n} else {\n  $success();\n}"},"_auto_id_":"85f3ff69-f01a-453c-89dd-7d6d15739552"},{"type":"end-if","data":{},"_auto_id_":"ceebeee7-2323-4304-b0ba-13876a8e76cf"}],"name":"priority_conv_ack"},{"content":[{"type":"if","data":{},"_auto_id_":"2d97d561-9d7d-4cba-b46b-2e0fd3cc5f53","operations":[{"type":"value","content":"{{$store.state.currentPage}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"Login","$selected":false}]},{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (window.chatLayer) $store.chatLayerConfigId = window.chatLayer.config.configId;\n$success();"},"_auto_id_":"4d0b7047-5eab-459f-b675-bf8a7d49f34d"},{"event":"click","type":"go-to-page","data":{"name":"Conversations","isConditional":false},"_auto_id_":"21293e3e-15af-461d-9737-71e07da23ef7"},{"type":"end-if","data":{},"_auto_id_":"e0af7a42-3649-4bfe-9ee4-9b520e31bbc8"}],"name":"on_auto_reconnected"}],"dataflows":[],"config":[{"name":"App Load Event","type":"event","item-type":"onappload","actions":[{"event":"onappload","type":"inline-function","data":{"sync":true,"code":"// TODO: remove this from the app when we have real data\n\nwindow.localConfig = {\n    fakeFetch: true,\n    fakeData: {\n        // conversations: true,\n        // contacts: true\n        // chat: true,\n    }\n};\n\nwindow.resetData = function () {\n  const layer = window.chatLayer;\n  layer.showWaitingMessage(\"Clearing local data and restarting...\");\n  layer.clearAllData().then(() => window.location.reload());\n}\n\n$success();"},"_auto_id_":"0f911528-2d32-4bdd-8c47-48ca1f62c932"}],"_auto_id_":"f8a4bee8-751d-483e-8446-e63fbcd2a242"},{"name":"OpenSans-Light","type":"style","item-type":"font-asset","fileName":"Chat_Font_OpenSans-Light.woff","_auto_id_":"195a9eec-14d2-452a-b132-b973848ebb0b"},{"name":"OpenSans-Regular","type":"style","item-type":"font-asset","fileName":"Chat_Font_OpenSans-Regular.woff","_auto_id_":"3903c96c-c86a-452b-9984-e47a28d177b7"},{"name":"OpenSans-Semibold","type":"style","item-type":"font-asset","fileName":"Chat_Font_OpenSans-Semibold.woff","_auto_id_":"6cd0823f-29ad-4065-b45d-fea179a6f42b"},{"name":"OpenSans-Bold","type":"style","item-type":"font-asset","fileName":"Chat_Font_OpenSans-Bold.woff","_auto_id_":"6bfbf8f7-c512-4beb-aff7-c1b8109bc8c0"},{"name":"logo","type":"style","item-type":"image-asset","fileName":"chat_logo_generic.png","_auto_id_":"c820fa18-03dc-444b-8346-d4843f5e1da6"},{"name":"notification_sound","type":"media","item-type":"audio-asset","_auto_id_":"28ab4896-fb95-4e50-b2e8-3bd87b04d732","fileName":"Clinical_Messaging_Notification.m4a"},{"name":"push_audio","type":"media","item-type":"audio-asset","_auto_id_":"88bfb1f4-0b87-465f-878f-1e6d7e4102ef","fileName":"Clinical_Messaging_Push.caf"},{"name":"OUH_callback","type":"media","item-type":"audio-asset","_auto_id_":"5aa9e17c-ae32-41b0-bc9b-c55dc2b092d4","fileName":"OUH_callback.mp3"},{"name":"OUH_urgent","type":"media","item-type":"audio-asset","_auto_id_":"a2a53e7c-02e0-4e01-be32-bd04a01203da","fileName":"OUH_urgent.mp3"},{"name":"OUH_emergency","type":"media","item-type":"audio-asset","_auto_id_":"ebc23da3-a183-439a-b7e3-a69ff727aff7","fileName":"OUH_emergency.mp3"},{"name":"css_variables","type":"style","item-type":"css","content":"body {\n    \n\n    --primary-color: #0072ce;\n    --primary-font-color: #ffffff;\n\n    --primary-accent-color: #4FB2AA;\n    --primary-accent-font-color: #ffffff;\n\n    --secondary-color: #f2f2f2;\n    --secondary-font-color: #212121;\n    --secondary-border: 1px solid #dddddd;\n\n    --default-font-color: #212121;\n    --subtle-font-color: #828688;\n\n    --header-height: 75px;\n    --header-bg: #7b7e80;\n    --header-text: var(--primary-font-color);\n    \n    --light-header-bg: #f2f2f2;\n    --light-header-text: var(--subtle-font-color);\n    \n    --dark-header-bg: #212121;\n    --dark-header-text: #f2f2f2;\n\n    --list-bg: #fbfbfb;\n    --list-item-bg: #ffffff;\n    --list-item-border: 1px solid #dddddd;\n\n    --avatar-bg: #7b7e80;\n    --avatar-color: #ffffff; \n    \n    --group-avatar-bg: var(--primary-color);\n    --group-avatar-color: var(--primary-font-color);\n    \n    --conversation-unread-text: var(--default-font-color);\n    --conversation-unread-marker-bg: #147efb;\n    --conversation-unread-marker-border: none;\n    \n    --conversation-read-text: var(--subtle-font-color);\n    --conversation-read-marker-bg: transparent;\n    --conversation-read-marker-border: var(--secondary-border);\n    \n    --conversation-has-draft-color: #7e8080;\n    --conversation-has-error-color: #d93247;\n\n    --chat-message-bubble-sent-text: var(--primary-font-color);\n    \n    --chat-message-bubble-received-bg: #f1f1f1;\n    --chat-message-bubble-received-from: #000000;\n    --chat-message-bubble-received-text: var(--default-font-color);\n\n    --button-primary-bg: var(--primary-color);\n    --button-primary-border: 1px solid var(--primary-color);\n    --button-primary-text: #ffffff;\n    --button-primary-ripple: var(--primary-color);\n\n    --button-secondary-bg: transparent;\n    --button-secondary-border: 1px solid var(--primary-color);\n    --button-secondary-text: var(--primary-color);\n    --button-secondary-ripple: var(--primary-color);\n\n    --button-dangerous-bg: #ce0a24;\n    --button-dangerous-border: #ce0a24;\n    --button-dangerous-text: #ffffff;\n    --button-dangerous-ripple: #ffffff;\n}\n\nbody.connected {\n\n  --header-bg: var(--primary-color);\n}\n\nct-login-form {\n\n  --button-primary-bg: var(--primary-color);\n  --button-primary-text: var(--primary-font-color);\n  --button-primary-border: 1px solid var(--primary-font-color);\n}\n\nct-alert-modal-manager {\n\n  --alert-info-bg: var(--primary-color);\n  --alert-info-text: var(--primary-font-color);\n\n  --alert-question-bg: var(--primary-color);\n  --alert-question-text: var(--primary-font-color);\n\n  --button-primary-bg: #7b7e80;\n  --button-primary-border: #7b7e80;\n  --button-primary-text: #fff;\n  --button-primary-ripple: #fff;\n}\n\nhtml[theme=\"dark\"] > body {\n\n    --base-color: #2f3136;\n    --secondary-color: #36393f;\n    --tertiary-color: #484c52;\n    --default-border-color: #474a4f;\n\n    --default-font-color: #fff;\n    --subtle-font-color: #828482;\n\n    --secondary-font-color: #616367;\n    --secondary-border: 1px solid var(--tertiary-border-color);\n\n    --tertiary-font-color: #fff;\n    --tertiary-border-color: #5b5e64;\n    --tertiary-placeholder-color: #7f8186;\n\n    --list-bg: var(--base-color);\n    --list-item-bg: var(--base-color);\n    --list-item-border: 1px solid var(--default-border-color);\n\n    --chat-list-bg-color: var(--base-color);\n    --chat-message-bubble-received-bg: var(--tertiary-color);\n    --chat-message-bubble-received-from: var(--primary-color);\n    --chat-message-bubble-received-text: var(--tertiary-font-color);\n\n    --light-header-bg: var(--secondary-color);\n    --light-header-text: var(--secondary-font-color);\n\n    --avatar-bg: var(--base-color);\n    --avatar-color: var(--default-font-color);\n\n    --group-avatar-bg: var(--base-color);\n    --group-avatar-color: var(--primary-font-color);\n\n    --default-bg-color-light: var(--tertiary-color);\n    --default-bg-color-light-font: var(--tertiary-font-color);\n\n    --select-border-color: var(--tertiary-border-color);\n    --select-placeholder-color: var(--tertiary-placeholder-color);\n\n    --action-sheet-border-color: var(--tertiary-border-color);\n    --action-sheet-button-bg: var(--tertiary-color);\n    --action-sheet-subtitle-color: var(--tertiary-placeholder-color);\n}","_auto_id_":"39269bc0-4665-4083-8bb9-07bcf02395d0"},{"name":"app_styles","type":"style","item-type":"css","content":"@font-face {\n  font-family: \"Open Sans\";\n  src: url(\"user-assets/Chat_Font_OpenSans-Light.woff?v=1.1.0\") format(\"woff\");\n  font-weight: 300;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"Open Sans\";\n  src: url(\"user-assets/Chat_Font_OpenSans-Regular.woff?v=1.1.0\") format(\"woff\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"Open Sans\";\n  src: url(\"user-assets/Chat_Font_OpenSans-Semibold.woff?v=1.1.0\") format(\"woff\");\n  font-weight: 600;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"Open Sans\";\n  src: url(\"user-assets/Chat_Font_OpenSans-Bold.woff?v=1.1.0\") format(\"woff\");\n  font-weight: bold;\n  font-style: normal;\n}\n\nhtml, body {\n    /* prevent iOS overscroll */\n    position: fixed;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n    background-color: var(--list-bg);\n}\n\nhtml, body, input, textarea, select, button {\n  font-size: 12px;\n}\n\nhtml, body, h1, h2, h3, h4, h5, h6, p, input, textarea, select, button {\n  font-family: \"Open Sans\", sans-serif;\n}\n\n#main_content {\n  position: relative;\n  padding: 0;\n  margin: 0;\n}\n\n#toast-container {\n  top: 0;\n  left: 0;\n  right: 0;\n}\n#toast-container .toast,\n#toast-container .toast:hover {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.8);\n  background-size: 24px 24px;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAATlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////+QlxstAAAAGXRSTlMAECAwP0BQYHB/gI+Qn6CvsL/Az9Df4O/wU9PRWAAAATBJREFUeNrt1lGTgiAUBeCDRKWYCWV4/v8f3RlrhqZEgbsP+7Df+7negQuIf2mH1jrHhXO2PZSF7Y1fbjazSGMDE4JtsMc4bnIGW7TjLqeRoiyzWJXofmKmSWNFywItvlxY5CLMxwoxL6rQs0If80dWOeKlCawSGjxdWemKhWE1sxRwrOZiA4IWBgoMAAIFAmAoYtBRpMNIkRGeIh4U+gMFZsqIF1G8jeJBko+ybBXn3zjOWnqhSDbSyy/VxVg/BE9qZpW5kT5t8sc1GqpGoL5CzEdDZT7qyg7hCv1gpofGKsU8vUICc3iNpJy4QZrmjrlvsOXMLffeYMf08T3vufC+7wz2nT7yGnkSf4t3hTLqxne9LP8wKGSm9/gJhVTLyJ9QLPBlHs8NKpD3Za81yv0ASG4Lo6gTOU0AAAAASUVORK5CYII=\") !important;\n  background-repeat: no-repeat;\n  background-position: 20px center;\n  color: #ffffff;\n  border: 0;\n  border-radius: 0;\n  width: 100% !important;\n  padding: 15px 20px 15px 60px !important;\n  box-shadow: none;\n  z-index: 100;\n}\n#toast-container .toast {\n  opacity: 1 !important;\n  transform: translateY(0);\n}\n#toast-container .toast .toast-title {\n  font-weight: 600;\n}\n#toast-container .toast .toast-message {\n  font-weight: 300;\n}\n#toast-container .toast.ng-enter {\n  opacity: 1 !important;\n  transform: translateY(-100%);\n  transition: transform 0.3s ease-out;\n}\n#toast-container .toast.ng-enter.ng-enter-active {\n  opacity: 1 !important;\n  transform: translateY(0);\n}\n#toast-container .toast.ng-leave {\n  opacity: 1;\n  transform: translateY(0);\n  transition: transform 0.3s ease-out;\n  z-index: 0;\n}\n#toast-container .toast.ng-leave.ng-leave-active {\n  opacity: 1 !important;\n  transform: translateY(-100%);\n}\n\nbody.cti-preview #___ct_base_layer_modal_container > * {\n  top: 20px;\n  height: calc(100% - 20px);\n}\n\nbody div.app-container,\nbody div.page-container {\n  background-color: var(--list-bg); \n}\n.panel-default {\n    border: none;\n}","_auto_id_":"be4e30eb-baa2-4a1d-8eb6-7aa81ef7896d"},{"name":"page_specific_styles","type":"style","item-type":"css","content":"#main_content.login-page {\n  padding: 50px;\n  background: var(--primary-color);\n  color: var(--primary-font-color);\n  overflow: auto;\n}\n\n#main_content.login-page .login-watermark {\n  position: fixed;\n  bottom: -20px;\n  right: -20px;\n  margin: 0;\n  height: 100%;\n}\n\n#main_content.login-page .login-watermark svg {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  height: 100vh;\n  fill: rgba(255, 255, 255, 0.05);\n  pointer-events: none;\n}\n\n#main_content.login-page .login-content {\n  text-align: center;\n  font-weight: 300;\n  font-size: 12px;\n  margin: 0 0 20px 0;\n}\n\n#main_content.login-page .login-content .logo {\n  width: 75px;\n  height: 75px;\n  margin: 0 auto;\n  overflow: hidden;\n  transition: height 0.3s ease-out;\n}\n\n#main_content.login-page .login-content .logo.vanish {\n  height: 0;\n}\n\n#main_content.login-page .login-content .logo img {\n  display: block;\n  width: 75px;\n  height: 75px;\n}\n\n#main_content.login-page .login-content .title {\n  font-size: 26px;\n  margin: 15px 0 0 0;\n  line-height: 30px;\n}\n\n#main_content.login-page .login-content .title .b {\n  font-weight: 600;\n}\n\n#main_content.login-page .login-content .title .accent-font {\n  color: #092855; \n}\n\n#main_content.login-page .login-content .subtitle {\n  font-weight: 300;\n  margin: 5px 0 0 0;\n}\n\n#main_content.login-page .login-content .subtitle.subtitle-1 {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n#main_content.login-page .login-content .subtitle.subtitle-2 {\n  font-weight: 600;\n}\n\n#main_content.login-page .login-content {\n  text-align: center;\n}\n\n#main_content.login-page .login-form {\n  font-size: 16px;\n  font-weight: 300;\n  max-width: 400px;\n  margin: 0 auto;\n  opacity: 0;\n  transition: opacity 0.5s ease-out;\n}\n\n/* force full-height component UIs on iOS 10.3 */\n#main_content.conversations-page,\n#main_content.new-conversation-page,\n#main_content.chat-page,\n#main_content.conversation-info-page,\n#main_content.add-contacts-page {\n  display: flex;\n  flex-direction: column;\n}\n\n/* force full-height component UIs on iOS 10.3 */\n#main_content.conversations-page > .conversation-list,\n#main_content.new-conversation-page > .new-conversation,\n#main_content.chat-page > .chat-message-list,\n#main_content.conversation-info-page > .conversation-info,\n#main_content.add-contacts-page > .add-conversation-contacts {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  height: 100%;\n}\n\n#main_content.qa-page {\n  padding: 20px;\n}\n\n#main_content.qa-page #close_btn.md-button-container {\n  position: absolute;\n  top: 24px;\n  right: 20px;\n  margin: 0;\n}\n\n#main_content.qa-page #close_btn.md-button-container .btn {\n  border: 0;\n  padding: 0;\n}\n\n#main_content.qa-page #close_btn.md-button-container .btn:hover,\n#main_content.qa-page #close_btn.md-button-container .btn:active {\n  background: none;\n  box-shadow: none;\n}\n\n#main_content.qa-page #close_button.md-button-container .btn .fa {\n  font-size: 2em;\n}\n\n#main_content.qa-page .qa-data {\n  margin: 0 0 10px 0;\n}\n\n#main_content.qa-page .app-header .name { \n  font-size: 2em;\n  font-weight: 600;\n}\n\n#main_content.qa-page .app-header .package-id,\n#main_content.qa-page .app-header .ver { \n  opacity: 0.7;\n  font-size: 0.8em;\n  margin: 0 0 3px 0;\n}\n\n#main_content.qa-page .section { \n  margin: 10px 0 0 0;\n  padding: 10px;\n  border: 1px dotted var(--default-border-color, #ddd);\n  border-radius: 8px;\n}\n\n#main_content.qa-page .section .heading {\n  font-size: 1.333em;\n  font-weight: 600;\n  margin: 0 0 10px 0;\n}\n\n#main_content.qa-page .app-prefs .pref {\n  font-family: monospace;\n  margin: 5px 0 0 0;\n}\n\n#main_content.qa-page .app-prefs .key {\n  font-weight: 600;\n}\n\n#main_content.qa-page .app-prefs .no-value {\n  font-style: italic;\n}\n\n#title_bar {\n\tjustify-content: flex-start;\n\tbackground-color: var(--primary-color, #0fb1ca);\n}\n\n#title_bar div.md-button-container a {\n    background: var(--primary-color, #0fb1ca);\n    color: #fff;\n    border: none;\n}\n\n#btnIconAbout {\n\tposition: absolute;\n\tbottom: 10px;\n\tleft: 10px;\n}\n\n@media screen and (max-height: 480px) {\n    #btnIconAbout {\n        display: none;\n    }\n}\n\n#btnIconAbout a {\n\t\n\tbackground-color: transparent;\n    color: white;\n    border: none;\n}\n\n#btnIconAbout a span {\n\tfont-size: 30px;\n}\n\n#scrlAbout {\n    display: flex;\n    flex-direction: column;\n    background-color: var(--default-bg-color);\n    color: var(--default-font-color);\n}\n\n#scrlAbout image-viewer[name=\"ctLogo\"] div {\n    display: flex;\n    margin: 2vh auto;\n}\n\n#scrlAbout image-viewer[name=\"ctLogo\"] div img {\n    margin: auto;\n    height: 15vh;\n}\n\np.versions { \n    text-align: center;\n    color: var(--subtle-font-color);\n}\n","_auto_id_":"4da1e204-120b-4237-92e5-aaaad1a0ef2b"},{"name":"menu_styles","type":"style","item-type":"css","content":"#main_content #menu {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: var(--header-height);\n  margin: 0 0 0 20px;\n  color: #ffffff;\n}\n\n#main_content #menu #menu_content {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  border: none;\n  box-shadow: none;\n  padding: 0;\n}\n\n#main_content #menu #menu_content .md-button-container {\n  text-align: left;\n  margin: 0;\n}\n\n#main_content #menu #menu_content #menu_header {\n  flex: none;\n  background: var(--header-bg);\n  color: var(--primary-font-color);\n  border: none;\n  box-shadow: none;\n  padding: 65px 20px 20px 20px;\n}\n\n#main_content #menu #menu_content #menu_header .current-user {\n  --list-item-bg: transparent;\n  --list-item-border: none;\n  --avatar-tile-padding: 0;\n  --avatar-bg: var(--primary-font-color);\n  --avatar-color: var(--header-bg);\n  --default-font-color: var(--primary-font-color);\n  --subtle-font-color: var(--primary-font-color);\n}\n\n#main_content #menu #menu_content #menu_items {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  box-shadow: none;\n  padding: 0;\n  background: var(--list-bg);\n  border-top: var(--list-item-border);\n  color: var(--default-font-color);\n}\n\n#main_content #menu #menu_content #menu_footer {\n  flex: none;\n  background: var(--list-bg);\n  border: var(--list-item-border);\n  border-width: 1px 0 0 0;\n  box-shadow: none;\n  padding: 0;\n}\n\n#main_content #menu #menu_content .menu-btn {\n  display: block;\n  border: 0;\n  padding: 20px;\n  text-align: left;\n  background: var(--list-bg);\n  color: var(--default-font-color);\n}\n\n#main_content #menu #menu_content #menu_items .menu-btn {\n  border-bottom: var(--list-item-border);\n  background: var(--list-bg);\n  color: var(--default-font-color);\n}\n\n/* special case for CTI preview */\nbody.cti-preview #main_content #menu #menu_content {\n  margin: 20px 0 0 0;\n  height: calc(100% - 20px);\n}\n#version_block {\n  background: #f2f2f2;\n  color: #666;\n  padding: 0 10px;\n  text-align: right;\n  height: 30px;\n  line-height: 30px;\n  border-top: solid 1px #DDD;\n}","_auto_id_":"4d444d14-19b8-4f3f-acd0-cc4ffc220ddf"},{"name":"css_asset_1","type":"style","item-type":"css-asset","_auto_id_":"dd3e3179-59b9-4cca-ada6-ad533cbffd10","fileName":"iziToast.min.css"},{"name":"Clinical_Messaging","type":"chat","item-type":"chatlayer","clConfig":{"xmpp":{"endpoint":"{{$store.preferences.xmppUrl}}","sso":{"adfs":{"enabled":"{{$store.preferences.adfs}}","discovery":"{{$store.preferences.adfsDiscovery}}","clientId":"{{$store.preferences.adfsClientId}}","scopes":"{{$store.preferences.adfsScopes}}","port":"{{$store.preferences.adfsPort}}"}},"user":{"domain":"{{$store.preferences.xmppDomain}}","userPersistentResource":false,"forceLowercaseJid":true,"sendAppIdentifier":false,"appIdentifier":"Clinical_Messaging"},"iq":{"host":"{{$store.preferences.xmppDomain}}","namespace":"urn:commontime:infinity:muc"},"mucHost":"conference.{{$store.preferences.xmppDomain}}","uploadHost":"upload.{{$store.preferences.xmppDomain}}","enablePing":true,"pingInterval":"{{$store.preferences.xmppPingInterval}}","pingTimeout":"{{$store.preferences.xmppPingTimeout}}","loginTimeout":60000,"autoLogin":true,"autoReconnect":true,"useChatMarkers":false,"maxMessageAge":-1,"mam":{"enabled":true},"encryption":true,"fileEncryption":true,"authAttachments":true,"alwaysSendPresence":true,"sleepingBeauty":true,"updateUserDirectoryOnLogin":true,"customerVersion":"{{$store.preferences.customerVersion}}","customerLabel":"{{$store.preferences.customerLabel}}"},"behaviour":{"maxSubjectLength":40,"maxDescriptionLength":500,"maxConversationParticipants":"{{$store.preferences.maxParticipants}}","maxConversationParticipantsExisting":"{{$store.preferences.maxParticipantsExisting}}","chatEntriesFetchBatchSize":"{{$store.preferences.chatFetchBatchSize}}","photoQuality":"{{$store.preferences.photoQuality}}","enablePriorityConversations":true,"defaultConversationExpiryTTL":3600,"defaultConversationActivityTTL":86400,"maxChatEntriesToStore":30,"updateUsersOnNewConversationClick":true},"priorities":[{"id":"","sortOrder":0,"name":"Standard","colorCode":"#007AC3","autoAlert":false,"alert":false,"descriptionAtTop":false,"userDescription":"","mustAcknowledge":false},{"id":"high","sortOrder":1,"name":"High","colorCode":"#F5BD23","autoAlert":false,"alert":true,"descriptionAtTop":true,"userDescription":"A High priority conversation will create a conversation that must be acknowledged by the recipients.","mustAcknowledge":false},{"id":"urgent","sortOrder":2,"name":"Urgent","colorCode":"#D74736","autoAlert":true,"alert":true,"descriptionAtTop":true,"userDescription":"An Urgent conversation will immediately pop-up on the user's device.","mustAcknowledge":true}],"roles":{"enableRoles":true,"maxUsersToRoleInOneRequest":30,"maxDisplayNameLength":30,"maxGroups":10,"maxGroupLength":25},"conversationSettings":[{"nick":"test"}],"conversationTypes":[{"id":"1","sortOrder":1,"name":"Direct Conversation","shortDescription":"A conversations with a set group of users that is ongoing","colorCode":"#22b1c8","displayGroup":"normal","behaviour":{"warnWhenNoContacts":false,"errorWhenNoContacts":false,"chatAvailable":true,"usePagerUI":false,"participantCanLeave":false,"ownerCanEditAfterSend":false,"ownerCanCloseEarly":false,"canSendAttachmentsWithinConversation":true,"ownerCanAddAdditionalContacts":false,"autoRemoveOnClose":false}},{"id":"2","sortOrder":2,"name":"Named Conversation","shortDescription":"Standard conversation where users can be added/removed","colorCode":"#1b2341","displayGroup":"normal","defaultConversationExpiryTTL":3600,"defaultConversationActivityTTL":86400,"behaviour":{"warnWhenNoContacts":false,"errorWhenNoContacts":false,"chatAvailable":true,"namedSettings":{"subjectRequired":true,"subjectFieldLabel":"Title","descriptionRequired":false,"descriptionFieldLabel":""},"usePagerUI":false,"participantCanLeave":true,"ownerCanEditAfterSend":true,"ownerCanCloseEarly":true,"canSendAttachmentsWithinConversation":true,"ownerCanAddAdditionalContacts":true,"autoRemoveOnClose":false}},{"id":"3","sortOrder":3,"name":"High Priority","shortDescription":"A conversation with an alert when the user first views the conversation","colorCode":"#baa91c","displayGroup":"normal","defaultConversationExpiryTTL":3600,"defaultConversationActivityTTL":86400,"behaviour":{"warnWhenNoContacts":true,"errorWhenNoContacts":false,"chatAvailable":true,"namedSettings":{"subjectRequired":true,"subjectFieldLabel":"Title","descriptionRequired":true,"descriptionFieldLabel":"Enter a description for your high priority conversation"},"usePagerUI":false,"participantCanLeave":true,"ownerCanEditAfterSend":true,"ownerCanCloseEarly":true,"canSendAttachmentsWithinConversation":true,"ownerCanAddAdditionalContacts":true,"autoRemoveOnClose":false,"priorityPush":"high","alert":{"autoAlert":false,"suppressAlertModalWarning":true,"alertVolume":50,"alertSoundFilename":"pager_responder_alert.m4a","alertSoundLoops":2,"alertAudioStream":"alarm","alertResponseOptions":[{"id":"1","name":"Attend / Unable","options":[{"name":"Attend","type":"button","label":"Attend","value":"Attend","color":"#37be52","shortDescription":"You will attend as soon as possible"},{"name":"Unable","type":"button","label":"Unable","value":"Unable","color":"#ea4335","shortDescription":"I cannot attend immediately"}]},{"id":"2","name":"Yes / No","options":[{"name":"Yes","type":"button","label":"Yes","value":"Yes","color":"#37be52"},{"name":"No","type":"button","label":"No","value":"No","color":"#ea4335"}]},{"id":"3","name":"Acknowledge","options":[{"name":"Acknowledge","type":"button","label":"Acknowledge","value":"Acknowledge"}]}],"shouldOpenConversationAfterResponded":true,"participantAlertResponsesVisible":true},"attachments":{"image":true,"audio":{"attachPreRecordedFile":true,"attachLiveRecordedAudio":true},"video":false}}},{"id":"4","sortOrder":4,"name":"Urgent Priority","shortDescription":"A conversation with an alert which displays as soon as the conversation starts","colorCode":"#b1191c","displayGroup":"normal","defaultConversationExpiryTTL":3600,"defaultConversationActivityTTL":86400,"behaviour":{"warnWhenNoContacts":true,"errorWhenNoContacts":false,"chatAvailable":true,"namedSettings":{"subjectRequired":true,"subjectFieldLabel":"Title","descriptionRequired":true,"descriptionFieldLabel":"Enter a description for your urgent priority conversation"},"usePagerUI":false,"participantCanLeave":true,"ownerCanEditAfterSend":true,"ownerCanCloseEarly":true,"canSendAttachmentsWithinConversation":true,"ownerCanAddAdditionalContacts":true,"autoRemoveOnClose":false,"priorityPush":"urgent","alert":{"autoAlert":true,"suppressAlertModalWarning":false,"alertVolume":100,"alertSoundFilename":"pager_responder_alert.m4a","alertSoundLoops":0,"alertAudioStream":"alarm","alertResponseOptions":[{"id":"1","name":"Attend / Unable","options":[{"name":"Attend","type":"button","label":"Attend","value":"Attend","color":"#37be52","shortDescription":"You will attend as soon as possible"},{"name":"Unable","type":"button","label":"Unable","value":"Unable","color":"#ea4335","shortDescription":"I cannot attend immediately"}]},{"id":"2","name":"Yes / No","options":[{"name":"Yes","type":"button","label":"Yes","value":"Yes","color":"#37be52"},{"name":"No","type":"button","label":"No","value":"No","color":"#ea4335"}]},{"id":"3","name":"Acknowledge","options":[{"name":"Acknowledge","type":"button","label":"Acknowledge","value":"Acknowledge"}]}],"shouldOpenConversationAfterResponded":true,"participantAlertResponsesVisible":true},"attachments":{"image":true,"audio":{"attachPreRecordedFile":true,"attachLiveRecordedAudio":true},"video":false}}},{"id":"5","sortOrder":5,"name":"Pager Message","shortDescription":"A pager style message that requires a response from the participants.","colorCode":"#2e8725","displayGroup":"normal","defaultConversationExpiryTTL":3600,"defaultConversationActivityTTL":86400,"behaviour":{"warnWhenNoContacts":true,"errorWhenNoContacts":true,"chatAvailable":false,"namedSettings":{"subjectRequired":true,"subjectFieldLabel":"Title","descriptionRequired":false,"descriptionFieldLabel":""},"usePagerUI":true,"participantCanLeave":false,"ownerCanEditAfterSend":false,"ownerCanCloseEarly":false,"canSendAttachmentsWithinConversation":false,"ownerCanAddAdditionalContacts":false,"autoRemoveOnClose":true,"priorityPush":"urgent","alert":{"autoAlert":true,"suppressAlertModalWarning":true,"alertVolume":100,"alertSoundFilename":"pager_responder_alert.m4a","alertSoundLoops":0,"alertAudioStream":"alarm","automaticallyPlayAudioOnDownload":false,"autoIncludeMembersInRoles":["Console"],"shouldOpenConversationAfterResponded":false,"participantAlertResponsesVisible":false},"attachments":{"image":false,"audio":{"attachPreRecordedFile":true,"attachLiveRecordedAudio":true},"video":false}}}]},"actions":[{"event":"chat-layer-ready","type":"call-actionflow","data":{"name":"on_instance_ready"},"_auto_id_":"9b14724d-e6af-4834-b404-58b79cd9f165"},{"event":"login","type":"call-actionflow","data":{"name":"on_login"},"_auto_id_":"932d87f4-1241-4f82-98c4-aa65801e276b"},{"event":"logout","type":"call-actionflow","data":{"name":"on_logout"},"_auto_id_":"254bab1f-e536-4e15-9506-211feb3fb0e9"},{"event":"connection-status-change","type":"call-actionflow","data":{"name":"on_connection_status"},"_auto_id_":"afd09157-cf04-4ff4-8297-12d92957df39"},{"event":"force-quit-conversation","type":"call-actionflow","data":{"name":"on_removed_from_conversation"},"_auto_id_":"413bec9b-ad52-41fe-9938-ff15707cc67e"},{"event":"chat-mute","type":"stop-audio","data":{},"_auto_id_":"b1deace6-9809-46d3-9825-e54f996546d2"},{"event":"chat-layer-ready","type":"call-actionflow","data":{"name":"on_auto_reconnected"},"_auto_id_":"c95094d9-739b-49c7-8e31-7d9ec8ed1336"},{"event":"move-task-to-back","type":"move-task-to-back","data":{},"_auto_id_":"64754536-442e-4903-b58e-564989311ab2"}],"_auto_id_":"62ecd90f-3959-41a2-aca5-4590ed94a600"},{"name":"device_notification","type":"notification","item-type":"device-notification","_auto_id_":"4a16b712-8479-48e5-bcdc-e16ef9888ca3","interactions":[],"actions":[],"text":"You have new notification(s)"},{"name":"app_notification","type":"notification","item-type":"app-notification","_auto_id_":"7c410732-ecbf-4d66-a3d0-464b131d3d87","options":{"autoDismiss":true,"progressBar":false,"maxOne":false},"style":"info","text":"You have new notification(s)","actions":[]},{"name":"default_urgent_volume","type":"scripting","item-type":"variable","_auto_id_":"6c6462cf-6388-45c1-8a54-ecd147613a7c","variable-type":"int","value":"100"},{"name":"debugLog","type":"scripting","item-type":"function","sync":false,"params":[],"content":"if (cti.store.preferences.debugMode === \"true\") {\n  var params = Array.prototype.slice.call(arguments);\n  console.log.apply(console.log, params);\n}\n","_auto_id_":"f2218fe2-cde6-411d-9e09-df987b550258"},{"name":"setupLoginForm","type":"scripting","item-type":"function","_auto_id_":"05da5210-18ec-4e2b-899b-43974be9d9eb","sync":false,"params":[],"content":"let attempts = 0;\nsetTimeout(() => testReadiness(), 500);\nfunction testReadiness() {\n  attempts += 1;\n  if (attempts === 10) {\n    alert(\"Unable to find window.CtChatLayer\");\n    return;\n  }\n  if (window.CtChatLayer) prepareLoginForm();\n  else setTimeout(() => testReadiness(), 250);\n}\nfunction prepareLoginForm() {  \n  window.CtChatLayer.onReady(\"Clinical_Messaging\", () => {\n    let logoTaps = 0;\n    let tapsTimeout = null;\n    const loginPage = document\n      .querySelector(\".login-page\");\n    if (!loginPage) return;\n    const logo = loginPage\n      .querySelector(\".logo\");\n    const loginForm = loginPage\n      .querySelector(\".login-form\");\n    const textBoxes = loginForm\n      .shadowRoot\n      .querySelectorAll(\"ct-textbox\");\n    const loginButton = loginForm\n      .shadowRoot\n      .querySelector(\"ct-button\");\n    textBoxes.forEach(textBox => {\n      const input = textBox\n        .shadowRoot\n        .querySelector(\"input\");\n      input.addEventListener(\"focus\", () => {\n        if (window.innerHeight < 768) hideLogo();\n      });\n      input.addEventListener(\"blur\", () => {\n        restoreLogo();\n      });\n    });\n    function hideLogo() {\n      logo.classList.add(\"vanish\");\n    }\n    function restoreLogo() {\n      logo.classList.remove(\"vanish\");\n    }\n    loginForm.style.opacity = 1;\n    const eventName = cti.store.env.platform.type === \"device\" ? \"touchstart\" : \"click\";\n    logo.addEventListener(eventName, () => {\n      clearTimeout(tapsTimeout);\n      tapsTimeout = setTimeout(() => {\n        taps = 0;\n      }, 400);\n      logoTaps += 1;\n      if (logoTaps === 2) {\n        clearTimeout(tapsTimeout);\n        cti.utils.callActionflow(\"show_qa_page\");\n        logoTaps = 0;\n      }\n    });\n  });\n}","actions":[]},{"name":"stored_volume","type":"scripting","item-type":"variable","_auto_id_":"5bbf6b53-3f4e-4d5b-a632-b19140a9e77c","variable-type":"int"},{"name":"in_alert","type":"scripting","item-type":"variable","_auto_id_":"655d1a6e-508a-4194-b7dd-dea2e1b61dde","variable-type":"boolean","value":"false"},{"name":"stored_message","type":"scripting","item-type":"variable","_auto_id_":"e33d7f5a-aa4b-453a-9e27-2dba6554b349","variable-type":"string"},{"name":"currently_alerting","type":"scripting","item-type":"variable","_auto_id_":"8e35474e-a01f-4124-9585-4af1c7772aa0","variable-type":"boolean","value":"false"},{"name":"pushTs","type":"scripting","item-type":"variable","_auto_id_":"2653abfa-998f-4719-b582-fc6910d4b6a4","variable-type":"int","value":"0"},{"name":"pageTs","type":"scripting","item-type":"variable","_auto_id_":"7406f644-027a-47ca-80f5-7f23b851a549","variable-type":"int","value":"0"},{"name":"debug","type":"scripting","item-type":"variable","_auto_id_":"2258466e-bf6e-4ab5-9303-2d719816429c","variable-type":"boolean","value":"true"}],"components":[],"id":"3a2e8c97-8f7e-4f6d-94a9-dcec1de59b90","name":"ICoM","packageId":"com.cti.cm.dev","metadata":{"6b8051c6-7d89-4903-bb83-893cb3ddd71e":{"value":"true","key":"debugMode","externallyConfigurable":true},"91f13824-6aa3-46e8-8b84-1a88ffb47044":{"value":"true","key":"qaMode","externallyConfigurable":true},"b4b47657-e96c-4409-8ebc-045ddc9fe284":{"value":"wss://internal-cm-01.cti-paging.com:12300/websocket","key":"xmppUrl","externallyConfigurable":true},"b24aff90-4008-44f0-b660-aee3b4bf77e5":{"value":"ctsimulation.com","key":"xmppDomain","externallyConfigurable":true},"71e9a46f-1722-4131-a000-10ee2e7eb65c":{"value":"5000","key":"xmppPingInterval","externallyConfigurable":true},"c39f1fef-1e84-4638-af64-6d1ba1b3f401":{"value":"10000","key":"xmppPingTimeout","externallyConfigurable":true},"1b076d61-3323-41c1-acdb-98725e71bfdc":{"value":"250","key":"maxParticipants","externallyConfigurable":true},"3263d149-2f20-4504-bd27-06803bc662dd":{"value":"10","key":"showParticipantCountFrom","externallyConfigurable":true},"31413d5f-d331-4bf4-873a-25929fbca649":{"value":"10","key":"chatFetchBatchSize","externallyConfigurable":true},"259822a1-32d7-463b-a10c-bfabd54994af":{"value":"80","key":"photoQuality","externallyConfigurable":true},"b3cdb4a5-09b7-4c1f-b2dc-05a4ed539a7d":{"value":"5000","key":"disableInsomniaDelay","externallyConfigurable":true},"2656364f-e4da-41d0-a9e1-aa5cfeaa6398":{"value":"60000","key":"insomniaLimit","externallyConfigurable":true},"87994c37-77d3-4e5a-97ab-f47c41ae94bb":{"value":"#000000","key":"statusBarColor","externallyConfigurable":false},"cf00e6cb-4362-49b9-b27d-6ea59a01abee":{"value":"Default 1","key":"defaultConfigId","externallyConfigurable":false},"20cdafb1-02db-4b47-9d52-307dc98234f7":{"value":"SIM 2.0","key":"customerReleaseId","externallyConfigurable":false},"03db3e94-c055-4fad-a68a-83da2dd7eb5d":{"value":"0","key":"appBuildNumber","externallyConfigurable":false},"34f5b622-9a9b-456c-ad49-106f00cfedf1":{"value":"2.0.0","key":"customerVersion","externallyConfigurable":false},"c4e55d8b-5b73-40a1-8e69-757770f29e71":{"value":"QA","key":"customerLabel","externallyConfigurable":false},"59f5f044-ae34-456b-8284-0d568902f339":{"value":"50","key":"maxParticipantsExisting","externallyConfigurable":false},"35596ed0-8592-4200-ba67-c212ac572d7f":{"value":"false","key":"adfs","externallyConfigurable":false},"56eaee8b-b005-4fb6-a8f0-bd5f450dfb03":{"value":"","key":"adfsDiscovery","externallyConfigurable":false},"f60fa15c-8d9a-4bb2-a26b-ef62ac7b4257":{"value":"","key":"adfsClientId","externallyConfigurable":false},"1dc62f7f-15bd-43ea-a77a-4a64c7e6a824":{"value":"","key":"adfsScopes","externallyConfigurable":false},"15f0e311-1e76-46c2-9705-36069a855bed":{"key":"adfsPort","value":"","externallyConfigurable":false}},"displayName":"ICoM","icondata":"icon.png","buildInfo":{"version":"4.0.0-cm1.9.0","build":1345},"lastSchemaUpgradeDate":"2019-07-19 12:58:36","jwt":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBfaWQiOiIzYTJlOGM5Ny04ZjdlLTRmNmQtOTRhOS1kY2VjMWRlNTliOTAiLCJhcHBfbmFtZSI6IklDb00iLCJidWlsZF9pZCI6Ijg4MzhlMDhkLTNlNDItNDlkNi04ZWM4LWJkMWQ4YjY0ODQ1NyIsImNsaWVudF9pZCI6IjExNDI1MGFlLTdjNmEtNGNhYy1iNjdjLTY3OTkzYWU0YjMxYyIsImNsaWVudF9zZWNyZXQiOiJTelZETUhvcmNWbFVjbmRoYlV3NVlWUXdlbFprWnowOSIsImV4cCI6MjMzMTQxNzYwMCwiZnJlcXVlbmN5IjoibmV2ZXIiLCJoYXNoIjoiZGE1ZGU4YWY0NTMyZGZhZDQzNjhlMWNiYzBhNjM0YzE2MWQ3NDRkZTY5NDIxYWZlMGFlZTVkODk1NjExN2I3YiIsImxpY19leHAiOjIzMjg4MjU2MDAsImxwX2lkIjoiOWYxZTI4ODEtYzM3Mi00YTU1LTk5YTYtMjE3MThmOTU5ZDc4IiwicGFja2FnZV9pZCI6ImNvbS5jdGkuY20uZGV2IiwicmVmcmVzaF90b2tlbiI6IlFWSkxURzF3UVRKR1VXeG9WbmRMVUc5NGIzcHhSSGxLY1hVNWJWZEliMjV2V0hkVlVpc3dibUpEWnowPSIsInR5cGUiOiJmdWxsIiwiaWF0IjoxNTg3NzE2NzQ2fQ.txY7nnUZU4JHsp0vHwDotPZE-4gwoI_n5W_UXEXSfJrgeQebSpbcgmkhXPF3GKvvXkUB1Y6E2Y4IO4HNWzcq-hKg91y6a15hZIVkRENUP-BCP4A9pYgx71SJHyeIZIec8gmid81HWcut5YoJ3_wBZf9TXCHZtEqqkzTjLnbVMBaLpRkrxawwaXF3Q8qW-Lbuw0BQZ60uyyUYRSvPg9Ea25z_LrvzfGdkBwqsVKuSjGO9BinoTO2CE2phMbmfuYZZ_S5iNwaXmv2xduBtQaD8OkgJn8HcGYfns9h9ASw-96tWziQ5DWpuOrYrPxR9fQkqMxZekF2vtJOKUR-NmVLotA","buildId":"8838e08d-3e42-49d6-8ec8-bd1d8b648457","hostContext":0}